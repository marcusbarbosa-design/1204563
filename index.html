<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Galeria de Criativos Consumer</title>
  <style>
    :root { --gap:16px; --radius:16px; --shadow:0 4px 18px rgba(0,0,0,.12); --shadow-hover:0 12px 30px rgba(0,0,0,.25); }
    * { box-sizing: border-box; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:#fafafa; color:#222; margin:40px; }
    h1 { text-align:center; margin:0 0 28px; }

    .filters { text-align:center; margin-bottom:24px; }
    .filter-btn {
      margin:4px; padding:8px 14px;
      border-radius:8px; border:none;
      background:#eee; cursor:pointer;
      transition: all .2s;
      font-weight:500;
    }
    .filter-btn:hover { background:#ddd; }
    .filter-btn.active { background:#333; color:#fff; }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(240px, 1fr));
      gap:var(--gap);
    }

    .thumb{
      width:100%;
      aspect-ratio:1/1;
      border-radius:var(--radius);
      background:#fff;
      box-shadow:var(--shadow);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      transition: box-shadow .22s ease, transform .22s ease;
      cursor: zoom-in;
    }
    .thumb:hover{
      box-shadow:var(--shadow-hover);
      transform: translateY(-2px);
    }
    .thumb img{
      max-width:100%;
      max-height:100%;
      object-fit:contain;
      display:block;
      user-select:none;
      -webkit-user-drag:none;
    }

    .lightbox{
      position:fixed; inset:0;
      background:rgba(0,0,0,.86);
      display:none;
      align-items:center;
      justify-content:center;
      padding:5vmin;
      z-index:9999;
    }
    .lightbox.open{ display:flex; }
    .lightbox__img{
      max-width:92vw; max-height:92vh;
      border-radius:12px;
      box-shadow:0 20px 60px rgba(0,0,0,.5);
      background:#111;
      object-fit:contain;
    }
    .lightbox__close{
      position:fixed; top:18px; right:18px;
      background:#ffffff;
      color:#111; border:none;
      padding:10px 14px;
      border-radius:999px;
      box-shadow:0 6px 24px rgba(0,0,0,.35);
      cursor:pointer;
      font-weight:600;
    }
    .lightbox__close:hover{ opacity:.9; }
  </style>
</head>
<body>
  <h1>Galeria de Criativos Consumer</h1>

  <!-- Filtros -->
  <div class="filters" id="filters"></div>

  <!-- Galeria -->
  <div class="grid" id="gallery"></div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
    <button class="lightbox__close" id="btnClose" aria-label="Fechar visualização (Esc)">Fechar ✕</button>
    <img class="lightbox__img" id="fullImg" alt="Visualização do criativo" />
  </div>

  <script>
    // =============================================
    // 🧩 CONFIGURAÇÃO DAS PASTAS E IMAGENS
    // =============================================
    const categories = {
      "Black Friday": [
        { id: "1abcD3EXEMPLO1", name: "Black-03.png" },
        { id: "1abcD3EXEMPLO2", name: "Black-50.png" },
        { id: "1abcD3EXEMPLO3", name: "black-pessoa-feed.png" }
      ],
      // 🔜 Aqui você pode adicionar mais pastas futuramente
      // "Comanda Mobile": [...],
      // "MenuDino": [...],
    };

    // Junta todas as imagens de todas as categorias
    const allImages = Object.entries(categories).flatMap(([cat, imgs]) =>
      imgs.map(img => ({ ...img, category: cat }))
    );

    // =============================================
    // 🔍 GERAR FILTROS AUTOMÁTICOS
    // =============================================
    const filtersContainer = document.getElementById("filters");
    const filters = ["Todos", ...Object.keys(categories)];
    filters.forEach(f => {
      const btn = document.createElement("button");
      btn.className = "filter-btn";
      btn.textContent = f;
      btn.dataset.filter = f.toLowerCase();
      btn.addEventListener("click", () => applyFilter(f));
      filtersContainer.appendChild(btn);
    });

    // =============================================
    // 🖼️ FUNÇÕES DE GALERIA E VISUALIZAÇÃO
    // =============================================
    function candidateUrls(id){
      return [
        `https://drive.google.com/uc?export=view&id=${id}`,
        `https://drive.google.com/thumbnail?id=${id}&sz=w3000`,
        `https://drive.usercontent.google.com/uc?id=${id}&export=view`
      ];
    }

    function createThumb(image){
      const id = image.id;
      const wrap = document.createElement("div");
      wrap.className = "thumb";
      const img = document.createElement("img");
      const urls = candidateUrls(id);
      let i = 0;
      img.src = urls[i];
      img.onerror = () => { if (++i < urls.length) img.src = urls[i]; };
      wrap.appendChild(img);
      wrap.addEventListener("click", () => openLightbox(image));
      return wrap;
    }

    const gallery = document.getElementById("gallery");
    function renderGallery(list){
      gallery.innerHTML = "";
      list.forEach(imgObj => gallery.appendChild(createThumb(imgObj)));
    }

    function applyFilter(filter){
      document.querySelectorAll(".filter-btn").forEach(b => b.classList.remove("active"));
      document.querySelector(`[data-filter='${filter.toLowerCase()}']`).classList.add("active");
      if(filter === "Todos") renderGallery(allImages);
      else renderGallery(allImages.filter(i => i.category === filter));
    }

    // =============================================
    // 💡 LIGHTBOX (VISUALIZAÇÃO FULL)
    // =============================================
    const lightbox = document.getElementById("lightbox");
    const fullImg  = document.getElementById("fullImg");
    const btnClose = document.getElementById("btnClose");

    function openLightbox(image){
      const urls = candidateUrls(image.id);
      let i = 0;
      fullImg.src = urls[i];
      fullImg.onerror = () => { if (++i < urls.length) fullImg.src = urls[i]; };
      lightbox.classList.add("open");
      document.body.style.overflow = "hidden";
    }

    function closeLightbox(){
      lightbox.classList.remove("open");
      document.body.style.overflow = "";
      fullImg.src = "";
    }

    btnClose.addEventListener("click", closeLightbox);
    document.addEventListener("keydown", e => { if(e.key === "Escape") closeLightbox(); });
    lightbox.addEventListener("click", e => { if(e.target === lightbox) closeLightbox(); });

    // =============================================
    // 🚀 INICIALIZAÇÃO
    // =============================================
    applyFilter("Todos");
  </script>
</body>
</html>
